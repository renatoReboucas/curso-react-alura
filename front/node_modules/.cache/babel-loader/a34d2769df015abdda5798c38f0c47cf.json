{"ast":null,"code":"var _jsxFileName = \"/Users/renatoreboucas/Projetos/react/react-alura/src/components/Formulario.jsx\";\nimport React, { useState } from 'react';\nimport FormValidator from '../FormValidator';\nimport validator from 'validator';\nimport PopUp from '../PopUp'; // import { Container } from './styles';\n\nexport default function Formulario(props) {\n  // this.validator = new FormValidator()\n  const validator = new FormValidator([{\n    campo: 'nome',\n    metodo: 'isEmpty',\n    validoQuando: false,\n    mensagem: 'Entre com um nome'\n  }, {\n    campo: 'livro',\n    metodo: 'isEmpty',\n    validoQuando: false,\n    mensagem: 'Entre com um livro'\n  }, {\n    campo: 'preco',\n    metodo: 'isInt',\n    args: [{\n      min: 0,\n      max: 99999\n    }],\n    validoQuando: true,\n    mensagem: 'Entre com um valor numerico'\n  }]);\n  const [nome, setNome] = useState('');\n  const [livro, setLivro] = useState('');\n  const [preco, setPreco] = useState('');\n\n  function submitForm() {\n    const data = {\n      nome,\n      livro,\n      preco,\n      validacao: validator.valido()\n    };\n    const validacao = validator.valida(data);\n\n    if (validacao.isValid) {\n      props.escutadorSubmit(data);\n      setPreco('');\n      setLivro('');\n      setNome('');\n    } else {\n      const {\n        nome,\n        livro,\n        preco\n      } = validacao;\n      const campos = [nome, livro, preco];\n      const camposInvalidos = campos.filter(elem => {\n        return elem.isInvalid;\n      });\n      camposInvalidos.forEach(console.log);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col 4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"input-field\",\n    htmlFor: \"nome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"validate\",\n    id: \"nome\",\n    type: \"text\",\n    name: \"nome\",\n    value: nome,\n    onChange: e => setNome(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col 4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"input-field\",\n    htmlFor: \"livro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Livro\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"validate\",\n    id: \"livro\",\n    type: \"text\",\n    name: \"livro\",\n    value: livro,\n    onChange: e => setLivro(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col 4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"input-field\",\n    htmlFor: \"preco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"Pre\\xE7o\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"validate\",\n    id: \"preco\",\n    type: \"text\",\n    name: \"preco\",\n    value: preco,\n    onChange: e => setPreco(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col 4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: submitForm,\n    type: \"button\",\n    className: \"waves-effect waves-light indigo lighten-2 btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"Salvar\")));\n}","map":{"version":3,"sources":["/Users/renatoreboucas/Projetos/react/react-alura/src/components/Formulario.jsx"],"names":["React","useState","FormValidator","validator","PopUp","Formulario","props","campo","metodo","validoQuando","mensagem","args","min","max","nome","setNome","livro","setLivro","preco","setPreco","submitForm","data","validacao","valido","valida","isValid","escutadorSubmit","campos","camposInvalidos","filter","elem","isInvalid","forEach","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState } from 'react';\n\nimport FormValidator from '../FormValidator'\nimport validator from 'validator';\nimport PopUp from '../PopUp'\n// import { Container } from './styles';\n\n\nexport default function Formulario(props) {\n\n  // this.validator = new FormValidator()\n  const validator = new FormValidator([\n    {\n      campo: 'nome',\n      metodo: 'isEmpty',\n      validoQuando: false,\n      mensagem: 'Entre com um nome'\n    },\n    {\n      campo: 'livro',\n      metodo: 'isEmpty',\n      validoQuando: false,\n      mensagem: 'Entre com um livro'\n    },\n    {\n      campo: 'preco',\n      metodo: 'isInt',\n      args: [{ min: 0, max: 99999 }],\n      validoQuando: true,\n      mensagem: 'Entre com um valor numerico'\n    },\n  ])\n  \n  const [nome, setNome] = useState('')\n  const [livro, setLivro] = useState('')\n  const [preco, setPreco] = useState('')\n\n\n  function submitForm(){\n    const data = {\n      nome,\n      livro,\n      preco,\n      validacao: validator.valido()\n    }\n\n    const validacao = validator.valida(data)\n\n    if(validacao.isValid){\n      props.escutadorSubmit(data)\n      setPreco('')\n      setLivro('')\n      setNome('')\n    }else{\n      const {nome, livro, preco} = validacao\n      const campos = [nome, livro, preco]\n\n      const camposInvalidos = campos.filter(elem => {\n        return elem.isInvalid\n      })\n\n      camposInvalidos.forEach(console.log);\n\n    }\n\n  }\n\n  return (\n    <form>\n      <div className=\"row\">\n        <div className=\"input-field col 4\">\n          <label className=\"input-field\" htmlFor=\"nome\">Nome</label>\n          <input\n            className=\"validate\"\n            id=\"nome\"\n            type=\"text\"\n            name=\"nome\"\n            value={nome}\n            onChange={e => setNome(e.target.value)}\n          />\n        </div>\n        <div className=\"input-field col 4\">\n          <label className=\"input-field\" htmlFor=\"livro\">Livro</label>\n          <input\n            className=\"validate\"\n            id=\"livro\"\n            type=\"text\"\n            name=\"livro\"\n            value={livro}\n            onChange={e => setLivro(e.target.value)}\n          />\n        </div>\n        <div className=\"input-field col 4\">\n          <label className=\"input-field\" htmlFor=\"preco\">Preço</label>\n          <input\n            className=\"validate\"\n            id=\"preco\"\n            type=\"text\"\n            name=\"preco\"\n            value={preco}\n            onChange={e => setPreco(e.target.value)}\n          />\n        </div>\n      </div>\n      <div className=\"input-field col 4\">\n        <button onClick={submitForm} type=\"button\" className=\"waves-effect waves-light indigo lighten-2 btn\">Salvar</button>\n      </div>\n    </form>\n\n  )\n}\n\n"]},"metadata":{},"sourceType":"module"}